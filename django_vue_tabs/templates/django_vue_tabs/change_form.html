{% extends "admin/change_form.html" %}
{% block admin_change_form_document_ready %}
{% if tabs %}
<style>
section.tabs-component-panel fieldset table{
    width: 100%;
}


{% for tab in tabs_includables %}
{% if tab.has_error %}
.django_vue_tabs .tabs-component-tabs .tabs-component-tab:nth-child({{ forloop.counter }}),
.django_vue_tabs .tabs-component-tabs .tabs-component-tab:nth-child({{ forloop.counter }}) *,
{% endif %}
{% endfor %}
/* prevent last comma from making it an invalid selector by adding a nothing selector */
:not(*) {
  color: red;
}
</style>
{% endif %}
{{ block.super }}
{% endblock %}


{% block field_sets %}
  {% if tabs %}
    <tabs class="django_vue_tabs">
        {% for tab in tabs_includables %}
          <tab id="{{ tab.name|slugify }}" name="{{ tab.name }}">
            {% for e in tab %}
              {% if e.isinline %}
                {% with inline_admin_formset = e.fieldset %}
                  {% include inline_admin_formset.opts.template %}
                {% endwith %}
              {% else %}
                {% with fieldset = e.fieldset %}
                  {% include "admin/includes/fieldset.html" %}
                {% endwith %}
              {% endif %}
            {% endfor %}
          </tab>
        {% endfor %}
    </tabs>
  {% else %}
    {% block.super %}
  {% endif %}
{% endblock %}

{% block inline_field_sets %}
  {% if not tabs %}
    {% block.super %}
  {% endif %}
{% endblock %}
